CREATE SCHEMA IF NOT EXISTS loanmowerman;

CREATE TABLE IF NOT EXISTS "INSTITUTES" (
    "INSTITUTE_CODE" LONGVARCHAR PRIMARY KEY,
    "INSTITUTE_NAME" LONGVARCHAR NOT NULL
);

CREATE SEQUENCE "LOAN_AMOUNTS_ID_SEQ" START WITH 1;

CREATE TABLE IF NOT EXISTS "LOAN_AMOUNTS" (
    "ID" BIGINT GENERATED BY DEFAULT AS SEQUENCE "LOAN_AMOUNTS_ID_SEQ" PRIMARY KEY,
    "INSTITUTE_CODE" LONGVARCHAR NOT NULL,
    "YEAR" INT NOT NULL,
    "MONTH" INT NOT NULL,
    "AMOUNT" BIGINT NOT NULL,
    UNIQUE ("INSTITUTE_CODE", "YEAR", "MONTH"),
    FOREIGN KEY ("INSTITUTE_CODE") REFERENCES "INSTITUTES"("INSTITUTE_CODE")
);
*/